# 详细设计补充  
    2016-12-20
## PC客户端文件浏览面包渣
面包渣右对齐到ToolbarICON，左侧至LeftNav多出层级隐藏，不限制可所有显示层级数

## 分享权限
### 文件分享
文件分享与照片和相册分享类似，是用户将自己的0个或多个文件（夹）资源一次或多次连接到一个“文件分享”元素中，并对一个文件分享设置0个或多个用户对其读写或只读访问，这些用户对同一个文件分享的访问权限相同，每个用户可以有多个“文件分享”元素。
### 私密文件
用户将自己的0个或多个文件（夹）设置为私密文件，私密文件是文件（夹）的属性，即私密或不私密。

### “我的分享”功能定义
* 新建一个文件分享，设置可访问用户，添加分享文件（夹）。
* 列出当前用户所有的文件分享，并列出每个文件分享的可访问用户，列出该分享中的所有文件（夹）。
* 编辑修改文件分享的访问权限，用户名单，分享文件（夹）。

用户可以定义没有相关访问用户或者没有分享文件（夹）的“文件分享”

## 当Server仅有一个管理员用户的分享
* 文件分享：
1. 支持分享所有人通配符server版本a：仅一个用户时，“所有人”正常可选，“自定义” 分享为disable
2. 不支持分享所有人通配符server版本b：仅一个用户时，无法做分享操作，“所有人”，“自定义”分享都Disable，提示“现在还没有可以分享的用户”
* 照片/相册分享：
用户可以执行分享

## Download/Upload ICON提示和snackbar
开始上传和结束时，SnackBar提示该用户”开始上传”  和”上传完成“
开始下载和结束时，，SnackBar提示该用户”开始下载”  和”下载完成“
下载文件（夹）过程中，LeftBar中”下载任务“ 的Item 右侧增加动画表示正在下载；
上传文件（夹）过程中，LeftBar中”上传任务“ 的Item 右侧增加动画表示正在下载；

## 下载路径设置
系统增加下载路径设置界面

## 设备IP别名
设置了IP 别名的设备，被搜索到后显示为同一设备上多IP列表形式，如：
<pre> <code>
WISNUC Appifi
192.168.5.22 和 192.168.5.133
 </code></pre> 

## 上次成功登录的设备标识
PC & Mobile：上次成功登陆设备IP排序放置为首位，右侧对齐，例如
<pre> <code>
WISNUC #1 
192.168.5.134         上次登录时间：2016-12-20 14:23
___________________________________________________
WISNUC #3 
192.168.5.22     
___________________________________________________    
WISNUC #2 
192.168.5.35         
 </code></pre> 

## 手机网络异常 ( iOS )
    iOS version 10.0 至 10.19，当手机申请网络能力时被用户拒绝，之后的每次执行，系统将不在提示用户设置网络能力，
    iOS version 10.0 之前和 10.2 以后版本在每次都将提示用户, WISNUC在各版本中设计为该情况提示“网络异常，请检查网络设置”

## 同名文件的上传策略
### 上传
* Use Case 1：客户端不同目录中，同名同内容文件上传至服务器同一目录
* Use Case 2：客户端不同目录中，同名不同内容文件上传至服务器同一目录
* Use Case 3：客户端不同目录中，同名文件夹上传至服务器同一目录

        以上 Use Case 提示用户做出以下选择：
1. 替换原有文件
2. 跳过这个（这些）文件，不做覆盖
3. 逐个确定，罗列文件大小和c_Time m_time

       同名文件（夹）下载逻辑同上

## 文件下载
* 文件下载路径
1. 系统设置中可设置“本地文件下载路径”
2. 右键增加“另存为”
* 已下载文件所在本地文件夹
    
    入口：右键，Toolbar图标

## ErrorCode

## PC 客户端的Router


